<?xml version="1.0" encoding="utf-8" ?>
<Project>
	<PropertyGroup>
		<ObsidianMSBuild_TFM Condition=" '$(MSBuildRuntimeType)' == 'Core' ">net9.0</ObsidianMSBuild_TFM>
		<ObsidianMSBuild_TFM Condition=" '$(MSBuildRuntimeType)' != 'Core' ">netstandard2.0</ObsidianMSBuild_TFM>
	</PropertyGroup>
	
	<Target Name="PackPlugin" AfterTargets="AfterBuild;Publish">
		<MakeDir Directories="$(PluginPublishDir)"/>

		<Pack PluginAssembly="$(AssemblyName)" PluginVersion="$(Version)" Authors="$(Authors)"
			  PluginPublishDir="$(PluginPublishDir)" PluginApiVersion="$(PluginApiVersion)"
			  PluginSigningKey="$(PluginSigningKey)" PluginDependencies="@(PluginDependency)"
			  PluginId="$(PluginId)"
			  PluginDescription="$(Description)"
			  PluginName="$(Title)" ProjectUrl="$(ProjectUrl)" />
	</Target>
</Project>